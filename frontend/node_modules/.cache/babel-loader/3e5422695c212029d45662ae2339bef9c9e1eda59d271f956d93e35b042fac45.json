{"ast":null,"code":"import React,{useContext,useEffect,useState}from'react';import axiosInstance from'../api/axiosConfig';import{AuthContext}from'../context/AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const EmployeeProfile=()=>{const{user}=useContext(AuthContext);const[profile,setProfile]=useState(null);const[attendanceList,setAttendanceList]=useState([]);useEffect(()=>{fetchProfile();fetchAttendance();},[]);const fetchProfile=async()=>{try{const res=await axiosInstance.get('/auth/me');setProfile(res.data);}catch(error){console.error(error);}};const fetchAttendance=async()=>{try{const res=await axiosInstance.get('/attendance/myattendances');setAttendanceList(res.data);}catch(error){console.error(error);}};if(!profile)return/*#__PURE__*/_jsx(\"p\",{children:\"Loading profile...\"});return/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:700,margin:'40px auto'},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"My Profile\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center'},children:[profile.photo&&/*#__PURE__*/_jsx(\"img\",{src:profile.photo,alt:\"Profile\",style:{width:120,borderRadius:'50%',marginRight:20}}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Name:\"}),\" \",profile.name]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Date of Birth:\"}),\" \",new Date(profile.dob).toLocaleDateString()]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Mobile:\"}),\" \",profile.mobile]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Email:\"}),\" \",profile.email]})]})]}),/*#__PURE__*/_jsx(\"h3\",{style:{marginTop:30},children:\"Attendance History\"}),attendanceList.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"No attendance records found.\"}):/*#__PURE__*/_jsxs(\"table\",{border:\"1\",cellPadding:\"10\",style:{width:'100%',borderCollapse:'collapse'},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Check-in Time\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Check-in Photo\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Check-out Time\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Check-out Photo\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:attendanceList.map(record=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:new Date(record.checkInTime).toLocaleString()}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"img\",{src:record.checkInPhoto,alt:\"In\",style:{width:80,borderRadius:5}})}),/*#__PURE__*/_jsx(\"td\",{children:record.checkOutTime?new Date(record.checkOutTime).toLocaleString():'Not checked out'}),/*#__PURE__*/_jsx(\"td\",{children:record.checkOutPhoto?/*#__PURE__*/_jsx(\"img\",{src:record.checkOutPhoto,alt:\"Out\",style:{width:80,borderRadius:5}}):'-'})]},record._id))})]})]});};export default EmployeeProfile;","map":{"version":3,"names":["React","useContext","useEffect","useState","axiosInstance","AuthContext","jsx","_jsx","jsxs","_jsxs","EmployeeProfile","user","profile","setProfile","attendanceList","setAttendanceList","fetchProfile","fetchAttendance","res","get","data","error","console","children","style","maxWidth","margin","display","alignItems","photo","src","alt","width","borderRadius","marginRight","name","Date","dob","toLocaleDateString","mobile","email","marginTop","length","border","cellPadding","borderCollapse","map","record","checkInTime","toLocaleString","checkInPhoto","checkOutTime","checkOutPhoto","_id"],"sources":["D:/tcs/frontend/src/pages/EmployeeProfile.js"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\r\nimport axiosInstance from '../api/axiosConfig';\r\nimport { AuthContext } from '../context/AuthContext';\r\n\r\nconst EmployeeProfile = () => {\r\n  const { user } = useContext(AuthContext);\r\n  const [profile, setProfile] = useState(null);\r\n  const [attendanceList, setAttendanceList] = useState([]);\r\n\r\n  useEffect(() => {\r\n    fetchProfile();\r\n    fetchAttendance();\r\n  }, []);\r\n\r\n  const fetchProfile = async () => {\r\n    try {\r\n      const res = await axiosInstance.get('/auth/me');\r\n      setProfile(res.data);\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  const fetchAttendance = async () => {\r\n    try {\r\n      const res = await axiosInstance.get('/attendance/myattendances');\r\n      setAttendanceList(res.data);\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  if (!profile) return <p>Loading profile...</p>;\r\n\r\n  return (\r\n    <div style={{ maxWidth: 700, margin: '40px auto' }}>\r\n      <h2>My Profile</h2>\r\n      <div style={{ display: 'flex', alignItems: 'center' }}>\r\n        {profile.photo && (\r\n          <img src={profile.photo} alt=\"Profile\" style={{ width: 120, borderRadius: '50%', marginRight: 20 }} />\r\n        )}\r\n        <div>\r\n          <p><strong>Name:</strong> {profile.name}</p>\r\n          <p><strong>Date of Birth:</strong> {new Date(profile.dob).toLocaleDateString()}</p>\r\n          <p><strong>Mobile:</strong> {profile.mobile}</p>\r\n          <p><strong>Email:</strong> {profile.email}</p>\r\n        </div>\r\n      </div>\r\n      <h3 style={{ marginTop: 30 }}>Attendance History</h3>\r\n      {attendanceList.length === 0 ? (\r\n        <p>No attendance records found.</p>\r\n      ) : (\r\n        <table border=\"1\" cellPadding=\"10\" style={{ width: '100%', borderCollapse: 'collapse' }}>\r\n          <thead>\r\n            <tr>\r\n              <th>Check-in Time</th>\r\n              <th>Check-in Photo</th>\r\n              <th>Check-out Time</th>\r\n              <th>Check-out Photo</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {attendanceList.map((record) => (\r\n              <tr key={record._id}>\r\n                <td>{new Date(record.checkInTime).toLocaleString()}</td>\r\n                <td><img src={record.checkInPhoto} alt=\"In\" style={{ width: 80, borderRadius: 5 }} /></td>\r\n                <td>{record.checkOutTime ? new Date(record.checkOutTime).toLocaleString() : 'Not checked out'}</td>\r\n                <td>{record.checkOutPhoto ? <img src={record.checkOutPhoto} alt=\"Out\" style={{ width: 80, borderRadius: 5 }} /> : '-'}</td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EmployeeProfile;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}